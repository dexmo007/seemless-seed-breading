"use strict";(self.webpackChunkseemless_seed_breading=self.webpackChunkseemless_seed_breading||[]).push([[9],{9:function(n,e,r){r.r(e),r.d(e,{calculateWeights:function(){return o}});var t=r(433);function a(n){if(!n.length)throw new Error("cannot compute stddev of empty array");var e=n.length,r=n.reduce((function(n,e){return n+e}))/e;return Math.sqrt(n.map((function(n){return Math.pow(n-r,2)})).reduce((function(n,e){return n+e}))/e)}function u(n,e){var r=e/n.reduce((function(n,e){return n+e.scale+1}),0),t=function(e){var r=function(e){return e*n.reduce((function(n,e){return n+e.scale}),0)}(e);return{seeds:e,water:r,soaker:e*n.length+r}};return{exact:t(r),floor:t(5*Math.floor(r/5)),ceil:t(5*Math.ceil(r/5))}}function s(n,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{steps:5,solutions:20},u=Date.now(),s=0,i=n.map((function(n){return n.scale})),o=[];function c(n,a,u){if(a&&0!==a.length)for(var f=1,l=a[0],d=a.slice(1);(l.scale+1)*f*r.steps<=u;)c([].concat((0,t.Z)(n),[f*r.steps]),d,u-(l.scale+1)*f*r.steps),f++;else{s++;var h=n.reduce((function(n,e,r){return n+e*(i[r]+1)}),0);h===e&&o.push(n)}}c([],n,e);var f=[];if(o.length){(f=(f=o.map((function(n){return{weights:n,sigma:a(n)}})).sort((function(n,e){return n.sigma-e.sigma}))).slice(0,r.solutions)).forEach((function(n,e){if(n.water=n.weights.reduce((function(n,e,r){return n+e*i[r]}),0),0===e)return n.rank=1,void(n.indexInRank=0);var r=f[e-1];n.sigma>r.sigma?(n.rank=r.rank+1,n.indexInRank=0):(n.rank=r.rank,n.indexInRank=r.indexInRank+1)}));var l=f.reduce((function(n,e){return n[e.rank]=(n[e.rank]||0)+1,n}),{});f.forEach((function(n){n.rankSize=l[n.rank]}))}var d=Date.now()-u;return{runs:s,seeds:n.map((function(n){return n.id})),solutionCount:o.length,solutions:f,duration:d}}var i=r(384);function o(n){var e=n.seeds,r=n.soakerWeight,t=n.hash;if(!e||!r)throw new Error("invalid message: "+JSON.stringify({seeds:e,soakerWeight:r}));var a=e.map((function(n){return{id:n,scale:i.find((function(e){return e.ids.includes(n)})).scale}}));return{hash:t,allEqualParts:u(a,r),round:s(a,r)}}}}]);
//# sourceMappingURL=9.2dc736c6.chunk.js.map